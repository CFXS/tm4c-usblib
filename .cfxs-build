printf("Load TM4C usblib")
tm4c_usblib = create_library("tm4c-usblib")
tm4c_usblib:add_include_paths("public", {"./"})
tm4c_usblib:add_sources("./**.c")

tm4c_usblib:create_precompiled_header({
    "<stdint.h>",
    "<stddef.h>",
})

if _G.CFXS_TOOLCHAIN == "GCC" or _G.CFXS_TOOLCHAIN == "Clang" then
    tm4c_usblib:add_compile_options("private", {
        "-Wno-missing-field-initializers",
        "-Wno-unused-but-set-variable",
    })
else
    error("Toolchain [".._G.CFXS_TOOLCHAIN.."] not implemented")
end

assert(tm4c_driverlib ~= nil, "tm4c_driverlib not imported")
tm4c_usblib:add_libraries(tm4c_driverlib)
